{% extends "base.html" %}

{% block title %}Export {{ deck.name }} - Eternal Forge{% endblock %}

{% block content %}
<div class="flex justify-between items-center mb-6">
    <div>
        <h1 class="text-2xl font-bold">Export: {{ deck.name }}</h1>
        <p class="text-gray-400">Copy for import into Eternal</p>
    </div>
    {% include 'decks/partials/deck_nav.html' with current_page='export' %}
</div>

<div class="max-w-2xl">
    <p class="text-gray-400 mb-4">
        Copy the text below and paste it into Eternal's deck import feature.
    </p>

    <div class="relative">
        <textarea id="export-text" readonly rows="20"
                  class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded font-mono text-sm text-gray-200">{{ export_content }}</textarea>
        <button onclick="copyExport()"
                class="absolute top-2 right-2 px-3 py-1 bg-amber-600 hover:bg-amber-500 rounded text-sm text-white">
            Copy
        </button>
    </div>

    <div class="mt-4">
        <a href="{% url 'decks:deck_export' deck.pk %}"
           class="px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-white text-sm">
            Download as File
        </a>
    </div>
</div>

<script>
function copyExport() {
    const textarea = document.getElementById('export-text');
    textarea.select();
    document.execCommand('copy');
    alert('Copied to clipboard!');
}
</script>
{% endblock %}
