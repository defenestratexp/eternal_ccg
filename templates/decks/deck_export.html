{% extends "base.html" %}

{% block title %}Export {{ deck.name }} - Eternal Forge{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-6">Export: {{ deck.name }}</h1>

<div class="max-w-2xl">
    <p class="text-gray-400 mb-4">
        Copy the text below and paste it into Eternal's deck import feature.
    </p>

    <div class="relative">
        <textarea id="export-text" readonly rows="20"
                  class="w-full px-4 py-3 bg-gray-800 border border-gray-600 rounded font-mono text-sm text-gray-200">{{ export_content }}</textarea>
        <button onclick="copyExport()"
                class="absolute top-2 right-2 px-3 py-1 bg-amber-600 hover:bg-amber-500 rounded text-sm text-white">
            Copy
        </button>
    </div>

    <div class="mt-4 flex gap-4">
        <a href="{% url 'decks:deck_export' deck.pk %}"
           class="px-4 py-2 bg-gray-600 hover:bg-gray-500 rounded text-white text-sm">
            Download as File
        </a>
        <a href="{% url 'decks:deck_detail' deck.pk %}"
           class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded text-white text-sm">
            Back to Deck
        </a>
    </div>
</div>

<script>
function copyExport() {
    const textarea = document.getElementById('export-text');
    textarea.select();
    document.execCommand('copy');
    alert('Copied to clipboard!');
}
</script>
{% endblock %}
